<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>css毛玻璃效果实现 | buuug</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Blog">
    
    <link rel="preload" href="/assets/css/0.styles.a509abab.css" as="style"><link rel="preload" href="/assets/js/app.b8096a98.js" as="script"><link rel="preload" href="/assets/js/21.bf7b29c4.js" as="script"><link rel="preload" href="/assets/js/2.f7c58a73.js" as="script"><link rel="preload" href="/assets/js/7.a5829279.js" as="script"><link rel="prefetch" href="/assets/js/10.9f899a40.js"><link rel="prefetch" href="/assets/js/11.2d977f36.js"><link rel="prefetch" href="/assets/js/12.6a78c77b.js"><link rel="prefetch" href="/assets/js/13.fbdd2dbb.js"><link rel="prefetch" href="/assets/js/14.a0e94ab5.js"><link rel="prefetch" href="/assets/js/15.14696e5f.js"><link rel="prefetch" href="/assets/js/16.b4d7f12b.js"><link rel="prefetch" href="/assets/js/17.a1268fee.js"><link rel="prefetch" href="/assets/js/18.e006a18f.js"><link rel="prefetch" href="/assets/js/19.dc652960.js"><link rel="prefetch" href="/assets/js/20.6871ee84.js"><link rel="prefetch" href="/assets/js/22.2b187d4a.js"><link rel="prefetch" href="/assets/js/23.b378ab73.js"><link rel="prefetch" href="/assets/js/24.7f821dca.js"><link rel="prefetch" href="/assets/js/25.3094cca7.js"><link rel="prefetch" href="/assets/js/26.b63bfa1d.js"><link rel="prefetch" href="/assets/js/27.05317306.js"><link rel="prefetch" href="/assets/js/28.5df471f1.js"><link rel="prefetch" href="/assets/js/29.460f4c4f.js"><link rel="prefetch" href="/assets/js/3.f9c8446f.js"><link rel="prefetch" href="/assets/js/30.dad3cbd3.js"><link rel="prefetch" href="/assets/js/31.f23cdcc2.js"><link rel="prefetch" href="/assets/js/32.b5d5a2db.js"><link rel="prefetch" href="/assets/js/33.af894eae.js"><link rel="prefetch" href="/assets/js/4.0bce2d4a.js"><link rel="prefetch" href="/assets/js/5.79fff311.js"><link rel="prefetch" href="/assets/js/6.ff667613.js"><link rel="prefetch" href="/assets/js/8.61c949c0.js"><link rel="prefetch" href="/assets/js/9.968eca4f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a509abab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">buuug</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题列表" class="dropdown-title"><span class="title">专题列表</span> <span class="arrow down"></span></button> <button type="button" aria-label="专题列表" class="mobile-dropdown-title"><span class="title">专题列表</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link router-link-active">
  css
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  随便写写
</a></li><li class="dropdown-item"><!----> <a href="/chromium/" class="nav-link">
  chromium
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专题列表" class="dropdown-title"><span class="title">专题列表</span> <span class="arrow down"></span></button> <button type="button" aria-label="专题列表" class="mobile-dropdown-title"><span class="title">专题列表</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link router-link-active">
  css
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  随便写写
</a></li><li class="dropdown-item"><!----> <a href="/chromium/" class="nav-link">
  chromium
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/css/%E4%BC%AA%E7%B1%BB/" class="sidebar-link">伪类的使用</a></li><li><a href="/css/span%E6%A0%87%E7%AD%BE%E9%97%B4%E8%B7%9D/" class="sidebar-link">span标签之间的空白间距问题</a></li><li><a href="/css/%E6%AF%9B%E7%8E%BB%E7%92%83/" aria-current="page" class="active sidebar-link">毛玻璃效果</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/%E6%AF%9B%E7%8E%BB%E7%92%83/#背景概述" class="sidebar-link">背景概述</a></li><li class="sidebar-sub-header"><a href="/css/%E6%AF%9B%E7%8E%BB%E7%92%83/#实操" class="sidebar-link">实操</a></li><li class="sidebar-sub-header"><a href="/css/%E6%AF%9B%E7%8E%BB%E7%92%83/#细节优化" class="sidebar-link">细节优化</a></li></ul></li><li><a href="/css/%E7%82%B99%E5%9B%BE/" class="sidebar-link">前端点9图实现</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css毛玻璃效果实现"><a href="#css毛玻璃效果实现" class="header-anchor">#</a> css毛玻璃效果实现</h1> <h2 id="背景概述"><a href="#背景概述" class="header-anchor">#</a> 背景概述</h2> <p>公司的 <code>UI</code> 最近比较喜欢用毛玻璃的效果来虚化背景突出文字, 比如下图这种效果</p> <img src="/assets/img/1.5b16e4f8.png"> <h2 id="实操"><a href="#实操" class="header-anchor">#</a> 实操</h2> <h3 id="backdrop-filter"><a href="#backdrop-filter" class="header-anchor">#</a> backdrop-filter</h3> <p>首先看一下<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/backdrop-filter" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <details class="custom-block details"><summary>backdrop-filter</summary> <p><code>backdrop-filter</code> 属性可以让你为一个元素后面区域添加图形效果（如模糊或颜色偏移）. 因为它适用于元素背后的所有元素, 为了看到效果, 必须使元素或其背景至少部分透明.</p></details> <p>从描述看这个属性就非常适合我们用来做毛玻璃效果, 我们直接写一个简单的<a href="https://codesandbox.io/s/wonderful-fast-ht4xx?file=/index.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>尝试一下</p> <img src="/assets/img/2.b4e4ce3e.png"> <p>效果也挺完美的, 看起来我们的需求就很简单的实现了.那么我们再来看一下兼容性:</p> <img src="/assets/img/3.a0fd0848.png"> <p>这个属性的兼容性并不好, 所以并不适合用在C端</p> <h3 id="blur"><a href="#blur" class="header-anchor">#</a> blur</h3> <p>一开始是参考了<a href="https://www.cnblogs.com/ghost-xyx/p/5677168.html" target="_blank" rel="noopener noreferrer">这篇文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>通过这种方式确实也可以实现比较好的毛玻璃效果, 首先说一下大体思路.</p> <p><code>blur</code>属性会作用在整个<code>div</code>上, 所以如果我们单纯的给一个<code>div</code>加上<code>blur</code>, 会带着上面的文字一起<code>blur</code>掉.那么接下来的思路就清晰了, 我们用两层, 一层是正常的图片, 一层是<code>blur</code>的图片, 通过叠加的方式显示毛玻璃效果.</p> <img src="/assets/img/4.85005566.png"> <p>首先我们需要把两张图片的红框部分加起来, 就能显示一个部分模糊的毛玻璃效果, 最后再盖一个<code>div</code>在模糊部分上方显示我们需要显示的内容, 就能实现我们的毛玻璃效果.</p> <p>我们可以参照这篇文章里面的实现, 但是这里面的实现用到了这个:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">background-position</span><span class="token punctuation">:</span> center top<span class="token punctuation">;</span>
<span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
<span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
</code></pre></div><p>这些其实就是用来定位两张图片属性, <code>fixed</code>这个属性是相当于视窗的, 显然我们的需求是相当于某个<code>div</code>需要定位两张图片, 所以这里我们不能用上文的方式来实现我们的需求, 需要我们自己用另一种方式去定位两张图片.</p> <p>首先把第一张图片给裁剪到我们需要的高度, 需要注意的是这里要修改图片的初始位置, 这样才能显示出来的内容才是下半部分的内容.</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.img</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  
  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>10px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;https://i.postimg.cc/DzgQGyhx/image.png&quot;</span><span class="token punctuation">)</span></span> left bottom/375px 280px no-repeat<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样就能达到这个效果</p> <img src="/assets/img/5.9e53dfc8.png"> <p>我们再把这个覆盖到原图上面去, 定位到最下面, 再将内容也覆盖到原图上, 定位到最下面, 就能实现<a href="https://codesandbox.io/s/priceless-bird-w58pg?file=/index.html:0-1090" target="_blank" rel="noopener noreferrer">毛玻璃效果<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="/assets/img/6.bae9d45c.png"> <h3 id="image-mask"><a href="#image-mask" class="header-anchor">#</a> image-mask</h3> <p>上述切出图片的下半部分是通过改变<code>height</code>和<code>background-position</code>实现的, 其实也可以用<code>image-mask</code>去实现.</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;https://i.postimg.cc/DzgQGyhx/image.png&quot;</span><span class="token punctuation">)</span></span> center
    center/375px 280px no-repeat<span class="token punctuation">;</span>
  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> transparent 57%<span class="token punctuation">,</span> green 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> transparent 57%<span class="token punctuation">,</span> green 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>通过这段css就能截取出一张图的下半部分, 再将它定位到图片下方, 就能实现<a href="https://codesandbox.io/s/admiring-hofstadter-rghi2?file=/index.html" target="_blank" rel="noopener noreferrer">毛玻璃<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的效果</p> <img src="/assets/img/7.f9cc2468.png"> <p>其中 <code>mask-image</code> 的兼容性也还是不错的</p> <img src="/assets/img/8.544c8e1e.png"> <h2 id="细节优化"><a href="#细节优化" class="header-anchor">#</a> 细节优化</h2> <p>可能大家能注意到第二种和第三种方法边缘处的模糊效果并不是很好, 元素的边缘模糊效果减弱了, 所以我们需要想办法将边缘扩大.
举一个第三种方法的例子, 将高度增加, 修改<code>linear-gradient</code>的比例, 就能将需要模糊的图片底部距离增加. <a href="https://codesandbox.io/s/cocky-hawking-9z08c?file=/index.html" target="_blank" rel="noopener noreferrer">优化代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="/assets/img/7.f9cc2468.png"> <p>这样看起来的效果就好多了.</p></div> <footer class="page-edit"><!----> <!----></footer> <!---->  <!----></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b8096a98.js" defer></script><script src="/assets/js/21.bf7b29c4.js" defer></script><script src="/assets/js/2.f7c58a73.js" defer></script><script src="/assets/js/7.a5829279.js" defer></script>
  </body>
</html>
